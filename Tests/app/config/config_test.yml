#imports:
#    - { resource: security.yml }

framework:
    test: ~
    secret: test
    translator: ~
    default_locale:  "en"
    form: ~
    csrf_protection: ~
    validation:
        enable_annotations: true
    session:
        storage_id: session.storage.mock_file
    router:
        resource: "%kernel.root_dir%/config/routing.yml"
        strict_requirements: ~
    templating:
        engines: ['twig']
    trusted_hosts:   ~
    trusted_proxies: ~
    fragments:       ~
    http_method_override: true

monolog:
    handlers:
        main:
            type:   stream
            path:   "%kernel.logs_dir%/%kernel.environment%.log"
            level:  debug

# Twig Configuration
twig:
    debug:            true
    strict_variables: true

sl_jose:
    keys:
        ABCD:
            type: rsa
            public:
                file: "file://%kernel.root_dir%/Keys/RSA/public.key"
                key_ops: [verify] # The use of this parameter is deprecated and should not be used when 'use' parameter is declared.
            private:
                file: "file://%kernel.root_dir%/Keys/RSA/private.key"
                passphrase: 'tests' # If the private key is password protected
                key_ops: [sign] # The use of this parameter is deprecated and should not be used when 'use' parameter is declared.
            alg: PS512 # null or an algorithm authorized for this key type.
            use: sig # Should not be used whet 'key_ops' parameter is declared.
#        key2:
#            type: ecc
#            public:
#                kid:
#                file: "file://%kernel.root_dir%/Keys/EC/public.es512.key"
#            private:
#                kid:
#                file: "file://%kernel.root_dir%/Keys/EC/private.es512.key"
#            alg: ECDH-ES # null or an algorithm authorized for this key type.
#            use: enc # Should not be used whet 'key_ops' parameter is declared.
#        key3:
#            type: jwk
#            value: '{"kty":"EC","crv":"P-256","x":"f83OJ3D2xF1Bg8vub9tLe1gHMzV76e8Tus9uPHvRVEU","y":"x_FEzRu9m36HLN_tue659LNpXW6pCyStikYjKIWI5a0","alg":"ES256"}'
##           alg: ES512 # null or an algorithm authorized for this key type.
##           use: sig # Should not be used whet 'key_ops' parameter is declared.
##           key_ops: sign # Should not be used whet 'use' parameter is declared.
#        key4:
#            type: oct
#            value: "f83OJ3D2xF1Bg8vub9tLe1gHMzV76e8Tus9uPHvRVEU"
##           alg: ES512 # null or an algorithm authorized for this key type.
##           use: sig # Should not be used whet 'key_ops' parameter is declared.
##           key_ops: sign # Should not be used whet 'use' parameter is declared.
##       key5:
##           type: jwkset
##           value: '{"kty":"EC","crv":"P-256","x":"f83OJ3D2xF1Bg8vub9tLe1gHMzV76e8Tus9uPHvRVEU","y":"x_FEzRu9m36HLN_tue659LNpXW6pCyStikYjKIWI5a0","alg":"ES256"}'
##           public: 1
##           private: 0
##           key_ops: [sign]
    use_controller: true # If true, the controller is enabled and your public key set is exposed
    server_name: "www.example.com" # The audience
#    jws_class: SpomkyLabs\TestJoseBundle\Entity\JWS
#    jwt_class: SpomkyLabs\TestJoseBundle\Entity\JWT
#    jwe_class: SpomkyLabs\TestJoseBundle\Entity\JWE
#    jwk_class: SpomkyLabs\TestJoseBundle\Entity\JWK
#    jwkset_class: SpomkyLabs\TestJoseBundle\Entity\JWKSet
#    jwa_manager: sl_jose.jwa_manager.default
#    jwt_manager: sl_jose.jwt_manager.default
#    jwk_manager: sl_jose.jwk_manager.default
#    jwkset_manager: sl_jose.jwkset_manager.default
#    storage:
#        enabled: false # If enabled, tokens will have an ID and are stored in a database
    jot:
        headers:
            jku: true # If true, will include the url to the public key set in the header of each token. It means that the controller is enabled and all public keys can be retreived through HTTP requests.
            jwk: true # If true, will include the public key in the header of each token
            kid: true # Will use the name of the key as key ID
#           x5u: false # Only if controller is enabled and the key is a RSA key. Should not be mixed with other x5* parameters.
            x5c: false # Only if the key is a X509 certificate. Should not be mixed with other x5* parameters.
            x5t: false # Only if the key is a X509 certificate. Should not be mixed with other x5* parameters.
            x5t#256: false # Only if the key is a X509 certificate. Should not be mixed with other x5* parameters.
            crit: [jku,jwk,kid,exp,iat,nbf, iss] # Supported values are null/empty array or a non-empty array of headers/claims.
        claims:
            iss: true # If true, the issuer (server_name) will be added
            nbf: true # Not before # Recommended
            iat: true # Issued at # Highly recommended
            lifetime: 5min # Highly recommended. This option will set an 'exp' claim on each token.
# Add events for custom claims
    compression_methods: [DEF,GZ,ZLIB]
    algorithms: # Use the following keywords
#        - required # Required algorithms
#        - recommended+ # Recommended+ algorithms
#        - recommended # Recommended algorithms
#        - recommended- # Recommended- algorithms
#        - optional # Optional algorithms
        - all # All algorithms (this combine all keywords above)
        - !none # Disable the none algorithm
    #or specify each algorithm you want to enable
#        - HS256
#        - HS384
#        - HS512
#        - ES256
#        - ES384
#        - ES512
#        - RS256
#        - RS384
#        - RS512
#        - PS256
#        - PS384
#        - PS512
#        - dir
#        - RSA1_5
#        - RSA-OAEP
#        - RSA-OAEP-256
#        - ECDH-ES
#        - ECDH-ES+A128KW
#        - ECDH-ES+A192KW
#        - ECDH-ES+A256KW
#        - A128KW
#        - A192KW
#        - A256KW
#        - PBES2-HS256+A128KW
#        - PBES2-HS384+A192KW
#        - PBES2-HS512+A256KW
#        - A128CBC-HS256
#        - A192CBC-HS384
#        - A256CBC-HS512
#        - A128GCMKW
#        - A192GCMKW
#        - A256GCMKW
#        - A128GCM
#        - A192GCM
#        - A256GCM
#        - none # Please disable this algorithm in production mode. Note that 'none' is always disabled by '!none'
