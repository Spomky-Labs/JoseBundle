#imports:
#    - { resource: security.yml }

framework:
    test: ~
    secret: test
    translator: ~
    default_locale:  "en"
    form: ~
    csrf_protection: ~
    validation:
        enable_annotations: true
    session:
        storage_id: session.storage.mock_file
    router:
        resource: "%kernel.root_dir%/config/routing.yml"
        strict_requirements: ~
    templating:
        engines: ['twig']
    trusted_hosts:   ~
    trusted_proxies: ~
    fragments:       ~
    http_method_override: true

monolog:
    handlers:
        main:
            type:   stream
            path:   "%kernel.logs_dir%/%kernel.environment%.log"
            level:  debug

# Twig Configuration
twig:
    debug:            true
    strict_variables: true

jose:
    keys:
        ABCD:
            type: rsa
            public_file: "file://%kernel.root_dir%/Keys/RSA/public.key"
            private_file: "file://%kernel.root_dir%/Keys/RSA/private.key"
            passphrase: 'tests' # If the key is password protected
            key_ops: [sign, verify] # Should not be used when 'use' parameter is declared.
            alg: PS512 # null or an algorithm authorized for this key type.
            use: sig # Should not be used whet 'key_ops' parameter is declared.
        key2:
            type: ecc
            private_file: "file://%kernel.root_dir%/Keys/EC/private.es512.key"
            public_file: "file://%kernel.root_dir%/Keys/EC/public.es512.key"
            alg: ECDH-ES
            use: enc
        key3:
            type: jwk
            value: '{"kty":"EC","crv":"P-256","x":"f83OJ3D2xF1Bg8vub9tLe1gHMzV76e8Tus9uPHvRVEU","y":"x_FEzRu9m36HLN_tue659LNpXW6pCyStikYjKIWI5a0","alg":"ES256"}'
        key4:
            type: shared
            value: "f83OJ3D2xF1Bg8vub9tLe1gHMzV76e8Tus9uPHvRVEU"
        key5:
            type: direct
            value: "f83OJ3D2xF1Bg8vub9tLe1gHMzV76e8Tus9uPHvRVEU"
        key6:
            type: jwkset
            value: '{"keys":[{"kty":"EC","crv":"P-256","x":"f83OJ3D2xF1Bg8vub9tLe1gHMzV76e8Tus9uPHvRVEU","y":"x_FEzRu9m36HLN_tue659LNpXW6pCyStikYjKIWI5a0","use":"sign","key_ops":["sign"],"alg":"ES256","kid":"0123456789"},{"kty":"EC","crv":"P-256","x":"f83OJ3D2xF1Bg8vub9tLe1gHMzV76e8Tus9uPHvRVEU","y":"x_FEzRu9m36HLN_tue659LNpXW6pCyStikYjKIWI5a0","d":"jpsQnnGQmL-YBIffH1136cspYG6-0iY7X1fCE9-E9LI","use":"sign","key_ops":["verify"],"alg":"ES256","kid":"9876543210"}]}'
    use_controller: true # If true, the controller is enabled and your public key set is exposed
    server_name: "www.example.com" # The audience
#    jwt_manager: jose.jwt_manager.default
#    jwk_manager: jose.jwk_manager.default
#    jwkset_manager: jose.jwkset_manager.default
#    storage:
#        enabled: false # If enabled, tokens will have an ID and are stored in a database
#                       # This also means that your JWS/JWE can be revoked
    jot:
        headers:
            jku: false # If true, will include the url to the public key set in the header of each token. It means that the controller is enabled and all public keys can be retreived through HTTP requests.
            jwk: false # If true, will include the public key in the header of each token
            kid: true # Will use the name of the key as key ID
#           x5u: false # Only if controller is enabled and the key is a X509 certificate. Should not be mixed with other x5* parameters.
            x5c: false # Only if the key is a X509 certificate. Should not be mixed with other x5* parameters.
            x5t: false # Only if the key is a X509 certificate. Should not be mixed with other x5* parameters.
            x5t#256: false # Only if the key is a X509 certificate. Should not be mixed with other x5* parameters.
#            crit: [jku,jwk,kid,exp,iat,nbf, iss] # Supported values are null/empty array or a non-empty array of headers/claims.
        claims:
            nbf: true # Not before # Recommended
            iat: true # Issued at # Highly recommended
            lifetime: 5min # Highly recommended. This option will set an 'exp' claim on each token.
    compression_methods: [DEF,GZ,ZLIB]
    algorithms: # Use the following keywords
#        - required # Required algorithms
#        - recommended+ # Recommended+ algorithms
#        - recommended # Recommended algorithms
#        - recommended- # Recommended- algorithms
#        - optional # Optional algorithms
        - all # All algorithms (this combine all keywords above)
        - !none # Disable the none algorithm
        - !A128GCMKW # All GCM algorithms disabled for tests to pass (Crypto extension not yet available on PHP7 and HHVM)
        - !A192GCMKW
        - !A256GCMKW
        - !A128GCM
        - !A192GCM
        - !A256GCM
    #or specify each algorithm you want to enable
#        - HS256
#        - HS384
#        - HS512
#        - ES256
#        - ES384
#        - ES512
#        - RS256
#        - RS384
#        - RS512
#        - PS256
#        - PS384
#        - PS512
#        - dir
#        - RSA1_5
#        - RSA-OAEP
#        - RSA-OAEP-256
#        - ECDH-ES
#        - ECDH-ES+A128KW
#        - ECDH-ES+A192KW
#        - ECDH-ES+A256KW
#        - A128KW
#        - A192KW
#        - A256KW
#        - PBES2-HS256+A128KW
#        - PBES2-HS384+A192KW
#        - PBES2-HS512+A256KW
#        - A128CBC-HS256
#        - A192CBC-HS384
#        - A256CBC-HS512
#        - A128GCMKW
#        - A192GCMKW
#        - A256GCMKW
#        - A128GCM
#        - A192GCM
#        - A256GCM
#        - none # Please disable this algorithm in production mode. Note that 'none' is always disabled by '!none'
